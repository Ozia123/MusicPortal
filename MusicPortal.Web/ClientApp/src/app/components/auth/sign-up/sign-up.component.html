<div class="row">
  <div class="col-md-6">
    <h2>Create MusicPortal account</h2>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <form #f="ngForm" novalidate (ngSubmit)="signUp(f)">
      
      <div *ngIf="errors" class="alert alert-danger" role="alert">
        <strong>Oops!</strong> {{errors}}
      </div>
      
      <mat-form-field class="full-width">
        <input 
          matInput 
          placeholder="First name" 
          [formControl]="firstNameFormControl" 
          name="firstName"
          ngModel>

        <mat-error *ngIf="firstNameFormControl.hasError('required')">
          First name is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-group full-width">
        <input 
          matInput 
          placeholder="Last name" 
          [formControl]="lastNameFormControl" 
          name="lastName" 
          ngModel>

        <mat-error *ngIf="lastNameFormControl.hasError('required')">
          Last name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      
      <mat-form-field class="form-group full-width">
        <input 
          matInput 
          placeholder="Email" 
          [formControl]="emailFormControl" 
          name="email"
          ngModel>
        
        <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
          Please enter a valid email address
        </mat-error>

        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-group full-width">
        <input 
          type="password" 
          matInput 
          placeholder="Password" 
          [formControl]="passwordFormControl" 
          name="password"
          ngModel>

        <mat-error *ngIf="passwordFormControl.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>

        <mat-error *ngIf="(passwordFormControl.hasError('maxLength') || passwordFormControl.hasError('minLength')) && !passwordFormControl.hasError('required')">
          Password length must be between 6 and 12 characters
        </mat-error>
      </mat-form-field>

      <div class="form-group">
        <button
          type="submit" 
          class="sign-up-button" 
          [disabled]="f.invalid || isRequesting" 
          mat-raised-button color="primary"
          *ngIf="!isRequesting">
          Sign Up!
        </button>
        <mat-progress-spinner *ngIf="isRequesting" mode="indeterminate" class="sign-up-button" [diameter]="30"></mat-progress-spinner>
      </div>

    </form>
  </div>
</div>